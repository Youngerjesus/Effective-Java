## 아이템 1 - 생성자 대신 정적 팩토리 메소드를 고려하라. 

*** 

클라이언트 쪽에서 클래스의 인스턴스를 얻는 방법은 public 생성자를 이용하면 된다.

하지만 이것 말고도 하나 방법이 더 있다. 바로 클래스의 정적 메소드를 통해서 객체를 반환하는 방법이다. 

실제 자바에선 이를 이용한 예제가 있다. 

##### Boolean 타입의 정적 팩토리 메소드 
````java
Boolean TRUE = Boolean.valueOf(true);
````

- 위 방법은 캐싱처럼 이용하는 방법으로 Boolean 에서 미리 만들어둔 객체를 반환하는 방법이다.


그렇다면 생성자 보다 정적 팩토리 메소드를 사용했을때 가질 수 있는 장점과 단점이 무엇일까? 

#### 정적 팩토리 메소드 장점

- 이름을 가질 수 있다. 많은 매개변수를 전달하는 생성자로는 반환되는 객체의 특징을 설명하기에는 부족하다. 

- 호출할 때마다 인스턴스를 새로 생성하지 않아도 된다. 

  - 이를 통해서 불변 클래스는 미리 인스턴스를 만들어 놓거나 인스턴스를 캐싱해서 재사용하는 식으로 할 수 있다.
  특히 객체 생성의 비용이 큰 경우에 이는 성능상에서 많은 이점을 볼 수 있다. 
  
- 반환 타입의 하위 타입 객체를 반환할 수 있다. 이 능력으로 인해 반환할 객체를 유연하게 선택할 수 있다는 장점이 있다. 
이는 인터페이스에서 사용하면 인터페이스 기반의 프레임워크(item20)를 만드는데 유용하다. 

- 입력 매개변수에 따라 매번 다른 클래스의 객체를 반환하는게 가능하다. 

  - EnumSet 같은 경우에는 매개변수의 개수가 64개 이하라면 RegularEnumSet을 리턴하고 65개 이상이라면 JumboEnumSet 인스턴스를 리턴한다. 

- 정적 팩토리 메소드를 작성하는 시점에는 반환할 객체의 클래스가 존재하지 않아도 된다. 
  
  - 서비스 제공자 프레임워크인 JDBC 같은 경우가 이 예인데 어떤 구현체를 리턴할지 미리 만들어놓지 않고 어떤 서비스가 있어야하는지 인터페이스만 만들어 놓는다.
  그리고 이 인터페이스 구현체를 등록하는 사람이 있다면 그 객체를 리턴해주면 된다. 이렇게 해놓으면 서비스를 이용하는 클라이언트는 매개변수의 조건에 따라서 조건이
  없다면 기본 객체를 내놓으면 되고 조건이 있다면 그에 맞는 구현 객체를 리턴해주면 되는데 이것이 프레임워크다.    

#### 정적 팩토리 메소드 단점 
 
- 정적 팩토리 메소드만으로는 하위 클래스를 제공하기 어렵다. 상속을 하기 위해서는 public 이나 protected 생성자가 필요하기 떄문에. 

- 정적 팩토리 메소드는 사용자가 찾기 어렵다. 

  - 생성자처럼 API에 명확하게 드러나지 않으므로 찾기가 어렵다는 문제가 있다.
  
#### 정적 팩토리 메소드 명명 방식

- from: 매개변수를 하나 받아서 해당 타입의 인스턴스를 반환하는 메소드다. 

- of: 여러 매개변수를 받아서 적합한 타입의 인스턴스를 반환하는 메소드다. 

- valueOf: from 과 of 메소드의 좀 더 자세한 버전이다. 

- instance 혹은 getInstance: 매개변수를 받는다면 그 타입의 인스턴스를 반환한다는 뜻이다. 그리고 매번 동일한 객체를 반환한다는 걸 보장하지는 않는다.

- newInstance: 매번 새로운 객체를 반환한다는 뜻이다.

- getType(type): 타입에 따라 다른 클래스를 리턴할 때 쓰인다. 

- newType(type: 타입에 따라 새로운 클래스를 생성해서 반환할 때 쓰인다.

- type: getType과 newType의 좀 더 간소화한 버전이다. 





